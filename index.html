<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ“ã‚¸ãƒã‚¹çµ±è¨ˆå­¦ãƒ»é©æ€§è¨ºæ–­ãƒ„ãƒ¼ãƒ«</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ãƒ“ã‚¸ãƒã‚¹è¨ºæ–­">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Hiragino Sans', 'Meiryo', sans-serif; 
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d); 
            min-height: 100vh; 
            padding: 20px; 
            color: #2d3748;
        }
        .container { 
            max-width: 600px; 
            margin: 0 auto; 
            background: rgba(255, 255, 255, 0.95); 
            border-radius: 24px; 
            padding: 30px; 
            box-shadow: 0 20px 60px rgba(0,0,0,0.3); 
        }
        h1 { text-align: center; font-size: 1.5rem; margin-bottom: 8px; }
        .subtitle { text-align: center; color: #718096; font-size: 0.9rem; margin-bottom: 25px; }
        
        .input-section { 
            background: #f7fafc; 
            padding: 20px; 
            border-radius: 15px; 
            margin-bottom: 25px; 
            border: 1px solid #e2e8f0;
        }
        label { display: block; font-weight: bold; margin-bottom: 8px; font-size: 0.9rem; }
        input[type="date"] { 
            width: 100%; 
            padding: 12px; 
            border-radius: 10px; 
            border: 2px solid #cbd5e0; 
            font-size: 1rem;
            margin-bottom: 15px;
        }
        
        .calculate-btn { 
            width: 100%; 
            padding: 18px; 
            background: #2d3748; 
            color: white; 
            border: none; 
            border-radius: 12px; 
            font-size: 1.1em; 
            font-weight: bold; 
            cursor: pointer; 
            transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
        }
        .calculate-btn:hover { background: #000; transform: translateY(-2px); }
        .calculate-btn:active { transform: translateY(0); }

        /* çµæœã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ */
        #resultSection { 
            display: none; 
            opacity: 0; 
            transform: translateY(20px); 
            transition: all 0.6s ease-out; 
        }

        .meishiki-table { width: 100%; border-collapse: separate; border-spacing: 4px; margin: 20px 0; }
        .meishiki-table th { background: #2d3748; color: white; padding: 10px; border-radius: 6px; font-size: 0.8rem; }
        .meishiki-table td { 
            padding: 15px; 
            text-align: center; 
            background: white; 
            border: 1px solid #e2e8f0; 
            border-radius: 8px;
            font-size: 1.2rem; 
            font-weight: bold; 
        }
        .label-cell { background: #edf2f7 !important; font-size: 0.8rem !important; color: #4a5568; width: 60px; }
        .star-cell { color: #e53e3e; background: #fffaf0; }
        .main-star { 
            background: #fff5f5 !important; 
            border: 3px solid #e53e3e !important; 
            position: relative;
        }
        .main-star::after {
            content: "ä¸­å¿ƒæ˜Ÿ";
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            background: #e53e3e;
            color: white;
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 10px;
        }

        .info-box { 
            background: #ffffff; 
            border-left: 5px solid #2d3748; 
            padding: 20px; 
            margin-top: 20px; 
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        .lucky-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            color: white;
            font-size: 0.8rem;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“Š ãƒ“ã‚¸ãƒã‚¹é©æ€§çµ±è¨ˆè¨ºæ–­</h1>
        <p class="subtitle">~ å¸ç‹å­¦ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ãæˆ¦ç•¥çš„è‡ªå·±åˆ†æ ~</p>
        
        <div class="input-section">
            <label>ã‚ãªãŸã®ç”Ÿå¹´æœˆæ—¥</label>
            <input type="date" id="birthdate">
            <button class="calculate-btn" onclick="runDiagnostic()">çµ±è¨ˆãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡ºã™ã‚‹</button>
        </div>

        <div id="resultSection">
            <table class="meishiki-table">
                <thead>
                    <tr>
                        <th>åŒºåˆ†</th>
                        <th>å¹´æŸ±<br><small>ç¤¾ä¼šé‹</small></th>
                        <th>æœˆæŸ±<br><small>ä»•äº‹é‹</small></th>
                        <th>æ—¥æŸ±<br><small>æœ¬è³ª</small></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="label-cell">å¤©å¹²</td>
                        <td id="nenKan"></td>
                        <td id="gekkanKan"></td>
                        <td id="nicchiKan"></td>
                    </tr>
                    <tr>
                        <td class="label-cell">ä¸»æ˜Ÿ</td>
                        <td class="star-cell" id="starNen"></td>
                        <td class="star-cell main-star" id="starGekkan"></td>
                        <td class="star-cell" style="font-size: 0.9rem; color: #718096;">æœ¬äºº</td>
                    </tr>
                </tbody>
            </table>
            
            <div class="info-box">
                <h3 id="mainStarTitle">ã‚ãªãŸã®ä¸­å¿ƒæ˜Ÿ</h3>
                <p id="starDescription" style="margin: 12px 0; line-height: 1.6; font-weight: bold;"></p>
                <div id="luckyColorBadge" class="lucky-badge"></div>
            </div>
        </div>
    </div>

    <script>
        const TENKAN = ['ç”²', 'ä¹™', 'ä¸™', 'ä¸', 'æˆŠ', 'å·±', 'åºš', 'è¾›', 'å£¬', 'ç™¸'];
        
        const LUCKY_COLORS = {
            'ç”²': { name: 'æ·±ç·‘', code: '#2F855A' }, 'ä¹™': { name: 'è‹¥è‰è‰²', code: '#48BB78' },
            'ä¸™': { name: 'èµ¤', code: '#E53E3E' }, 'ä¸': { name: 'ç¯ç«è‰²', code: '#F56565' },
            'æˆŠ': { name: 'é»„é‡‘è‰²', code: '#D69E2E' }, 'å·±': { name: 'é»„è‰²', code: '#ECC94B' },
            'åºš': { name: 'ç™½é‡‘', code: '#718096' }, 'è¾›': { name: 'éŠ€è‰²', code: '#A0AEC0' },
            'å£¬': { name: 'ç´ºé’', code: '#2B6CB0' }, 'ç™¸': { name: 'æ°´è‰²', code: '#4299E1' }
        };

        const STAR_MAP = {
            'ç”²': { 'ç”²':'è²«ç´¢', 'ä¹™':'çŸ³é–€', 'ä¸™':'é³³é–£', 'ä¸':'èª¿èˆ’', 'æˆŠ':'ç¦„å­˜', 'å·±':'å¸ç¦„', 'åºš':'è»Šé¨', 'è¾›':'ç‰½ç‰›', 'å£¬':'é¾é«˜', 'ç™¸':'ç‰å ‚' },
            'ä¹™': { 'ä¹™':'è²«ç´¢', 'ç”²':'çŸ³é–€', 'ä¸':'é³³é–£', 'ä¸™':'èª¿èˆ’', 'å·±':'ç¦„å­˜', 'æˆŠ':'å¸ç¦„', 'è¾›':'è»Šé¨', 'åºš':'ç‰½ç‰›', 'ç™¸':'é¾é«˜', 'å£¬':'ç‰å ‚' },
            'ä¸™': { 'ä¸™':'è²«ç´¢', 'ä¸':'çŸ³é–€', 'æˆŠ':'é³³é–£', 'å·±':'èª¿èˆ’', 'åºš':'ç¦„å­˜', 'è¾›':'å¸ç¦„', 'å£¬':'è»Šé¨', 'ç™¸':'ç‰½ç‰›', 'ç”²':'é¾é«˜', 'ä¹™':'ç‰å ‚' },
            'ä¸': { 'ä¸':'è²«ç´¢', 'ä¸™':'çŸ³é–€', 'å·±':'é³³é–£', 'æˆŠ':'èª¿èˆ’', 'è¾›':'ç¦„å­˜', 'åºš':'å¸ç¦„', 'ç™¸':'è»Šé¨', 'å£¬':'ç‰½ç‰›', 'ä¹™':'é¾é«˜', 'ç”²':'ç‰å ‚' },
            'æˆŠ': { 'æˆŠ':'è²«ç´¢', 'å·±':'çŸ³é–€', 'åºš':'é³³é–£', 'è¾›':'èª¿èˆ’', 'å£¬':'ç¦„å­˜', 'ç™¸':'å¸ç¦„', 'ç”²':'è»Šé¨', 'ä¹™':'ç‰½ç‰›', 'ä¸™':'é¾é«˜', 'ä¸':'ç‰å ‚' },
            'å·±': { 'å·±':'è²«ç´¢', 'æˆŠ':'çŸ³é–€', 'è¾›':'é³³é–£', 'åºš':'èª¿èˆ’', 'ç™¸':'ç¦„å­˜', 'å£¬':'å¸ç¦„', 'ä¹™':'è»Šé¨', 'ç”²':'ç‰½ç‰›', 'ä¸':'é¾é«˜', 'ä¸™':'ç‰å ‚' },
            'åºš': { 'åºš':'è²«ç´¢', 'è¾›':'çŸ³é–€', 'å£¬':'é³³é–£', 'ç™¸':'èª¿èˆ’', 'ç”²':'ç¦„å­˜', 'ä¹™':'å¸ç¦„', 'ä¸™':'è»Šé¨', 'ä¸':'ç‰½ç‰›', 'æˆŠ':'é¾é«˜', 'å·±':'ç‰å ‚' },
            'è¾›': { 'è¾›':'è²«ç´¢', 'åºš':'çŸ³é–€', 'ç™¸':'é³³é–£', 'å£¬':'èª¿èˆ’', 'ä¹™':'ç¦„å­˜', 'ç”²':'å¸ç¦„', 'ä¸':'è»Šé¨', 'ä¸™':'ç‰½ç‰›', 'å·±':'é¾é«˜', 'æˆŠ':'ç‰å ‚' },
            'å£¬': { 'å£¬':'è²«ç´¢', 'ç™¸':'çŸ³é–€', 'ç”²':'é³³é–£', 'ä¹™':'èª¿èˆ’', 'ä¸™':'ç¦„å­˜', 'ä¸':'å¸ç¦„', 'æˆŠ':'è»Šé¨', 'å·±':'ç‰½ç‰›', 'åºš':'é¾é«˜', 'è¾›':'ç‰å ‚' },
            'ç™¸': { 'ç™¸':'è²«ç´¢', 'å£¬':'çŸ³é–€', 'ä¹™':'é³³é–£', 'ç”²':'èª¿èˆ’', 'ä¸':'ç¦„å­˜', 'ä¸™':'å¸ç¦„', 'å·±':'è»Šé¨', 'æˆŠ':'ç‰½ç‰›', 'è¾›':'é¾é«˜', 'åºš':'ç‰å ‚' }
        };

        const DESCS = {
            'è²«ç´¢': 'ã€ç‹¬ç«‹ç‹¬æ­©ã€‘å°‚é–€æ€§ã‚’æ¥µã‚ã‚‹è·äººãƒ»ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹å‘ãã€‚è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ãŒå¤§äº‹ã€‚',
            'çŸ³é–€': 'ã€çµ„ç¹”æ§‹ç¯‰ã€‘ãƒãƒ¼ãƒ ä½œã‚Šã‚„ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£é‹å–¶ã€‚ä»²é–“ã¨å”åŠ›ã—ã¦æˆåŠŸã™ã‚‹ã‚¿ã‚¤ãƒ—ã€‚',
            'é³³é–£': 'ã€ä¼é”ãƒ»è¡¨ç¾ã€‘ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼ã€ãƒ¡ãƒ‡ã‚£ã‚¢ã€é£²é£Ÿã€‚æ¥½ã—ã•ã‚’ä¼ãˆã‚‹ã®ãŒå¤©è·ã€‚',
            'èª¿èˆ’': 'ã€å‰µé€ ãƒ»æ„Ÿæ€§ã€‘ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã€ä½œå®¶ã€‚å”¯ä¸€ç„¡äºŒã®ä¸–ç•Œè¦³ã§ãƒ•ã‚¡ãƒ³ã‚’ä½œã‚‹ã€‚',
            'ç¦„å­˜': 'ã€æŠ•è³‡ãƒ»å›è»¢ã€‘æŠ•è³‡ã€ãƒ—ãƒ­ãƒ‡ãƒ¥ãƒ¼ã‚¹ã€‚å¤§ããªãŠé‡‘ã‚’å‹•ã‹ã—ã¦å¢—ã‚„ã™ã€‚',
            'å¸ç¦„': 'ã€è“„ç©ãƒ»å …å®Ÿã€‘ä¼šå“¡åˆ¶ã€ã‚µãƒ–ã‚¹ã‚¯ã€‚ç€å®Ÿã«è³‡ç”£ã‚’ç©ã¿ä¸Šã’ã‚‹ãƒ“ã‚¸ãƒã‚¹ã€‚',
            'è»Šé¨': 'ã€è¡Œå‹•ãƒ»ã‚¹ãƒ”ãƒ¼ãƒ‰ã€‘å–¶æ¥­ã€ãƒˆãƒ¬ãƒ¼ãƒ‰ã€‚ã¨ã«ã‹ãé€Ÿãå‹•ãã“ã¨ã§ç¨¼ã’ã‚‹ã€‚',
            'ç‰½ç‰›': 'ã€åèª‰ãƒ»æ¨©å¨ã€‘å£«æ¥­ã€ãƒ–ãƒ©ãƒ³ãƒ‰ã€‚ä¿¡é ¼ã¨å®Ÿç¸¾ã§é«˜å˜ä¾¡ã‚’ç‹™ã†ã€‚',
            'é¾é«˜': 'ã€æ”¹é©ãƒ»ITã€‘æœ€æ–°æŠ€è¡“ã€æµ·å¤–ã€‚å¤‰åŒ–ã®æ¿€ã—ã„åˆ†é‡ã§æ‰èƒ½ãŒçˆ†ç™ºã€‚',
            'ç‰å ‚': 'ã€æ•™è‚²ãƒ»è«–ç†ã€‘ã‚³ãƒ³ã‚µãƒ«ã€è¬›å¸«ã€‚çŸ¥è­˜ã‚’ä½“ç³»åŒ–ã—ã¦æ•™ãˆã‚‹ã®ãŒå¾—æ„ã€‚'
        };

        function runDiagnostic() {
            const dateVal = document.getElementById('birthdate').value;
            if(!dateVal) { alert("ç”Ÿå¹´æœˆæ—¥ã‚’é¸æŠã—ã¦ãã ã•ã„"); return; }
            const b = new Date(dateVal);
            
            // ç°¡æ˜“ä¸‡å¹´æš¦ãƒ­ã‚¸ãƒƒã‚¯
            const y = b.getFullYear();
            const nKan = TENKAN[(y - 1984 + 60000) % 10];
            const mKan = TENKAN[(b.getMonth() + 1 + 2) % 10];
            const diff = Math.floor((b - new Date(2000, 0, 1)) / 86400000);
            const dKan = TENKAN[(2 + diff % 10 + 10) % 10];
            
            const sNen = STAR_MAP[dKan][nKan];
            const sGek = STAR_MAP[dKan][mKan];

            // å€¤ã®ã‚»ãƒƒãƒˆ
            document.getElementById('nenKan').innerText = nKan;
            document.getElementById('gekkanKan').innerText = mKan;
            document.getElementById('nicchiKan').innerText = dKan;
            document.getElementById('starNen').innerText = sNen + 'æ˜Ÿ';
            document.getElementById('starGekkan').innerText = sGek + 'æ˜Ÿ';
            
            // ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼åæ˜ 
            const lucky = LUCKY_COLORS[dKan];
            const mainStarTitle = document.getElementById('mainStarTitle');
            mainStarTitle.innerText = 'ä¸­å¿ƒæ˜Ÿï¼š' + sGek + 'æ˜Ÿ';
            mainStarTitle.style.color = lucky.code;
            
            const badge = document.getElementById('luckyColorBadge');
            badge.innerText = 'ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: ' + lucky.name;
            badge.style.backgroundColor = lucky.code;

            document.getElementById('starDescription').innerText = DESCS[sGek];

            // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¡¨ç¤º
            const result = document.getElementById('resultSection');
            result.style.display = 'block';
            setTimeout(() => {
                result.style.opacity = '1';
                result.style.transform = 'translateY(0)';
            }, 50);
        }
    </script>
</body>
</html>
