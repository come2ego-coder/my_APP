<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ“ã‚¸ãƒã‚¹çµ±è¨ˆå­¦ãƒ»é©æ€§è¨ºæ–­</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ãƒ“ã‚¸ãƒã‚¹è¨ºæ–­">

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Hiragino Sans', 'Meiryo', sans-serif; 
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d); 
            min-height: 100vh; 
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .container { 
            max-width: 500px; 
            width: 100%;
            background: rgba(255, 255, 255, 0.98); 
            border-radius: 30px; 
            padding: 40px 30px; 
            box-shadow: 0 20px 60px rgba(0,0,0,0.5); 
        }
        h1 { text-align: center; color: #2d3748; font-size: 1.6rem; margin-bottom: 5px; }
        .subtitle { text-align: center; color: #718096; font-size: 0.85rem; margin-bottom: 30px; }
        
        .input-section { 
            background: #f8fafc; 
            padding: 25px; 
            border-radius: 20px; 
            margin-bottom: 30px;
            border: 1px solid #edf2f7;
        }
        label { display: block; font-weight: bold; margin-bottom: 10px; color: #4a5568; }
        input[type="date"] { 
            width: 100%; 
            padding: 15px; 
            border-radius: 12px; 
            border: 2px solid #e2e8f0; 
            font-size: 1.1rem;
            margin-bottom: 20px;
            outline: none;
            transition: 0.3s;
        }
        input[type="date"]:focus { border-color: #1a2a6c; }
        
        .calculate-btn { 
            width: 100%; 
            padding: 20px; 
            background: linear-gradient(to right, #1a2a6c, #b21f1f);
            color: white; 
            border: none; 
            border-radius: 15px; 
            font-size: 1.2rem; 
            font-weight: bold; 
            cursor: pointer; 
            transition: 0.4s;
            box-shadow: 0 10px 20px rgba(178, 31, 31, 0.3);
        }
        .calculate-btn:hover { transform: translateY(-3px); box-shadow: 0 15px 25px rgba(178, 31, 31, 0.4); }

        #resultSection { 
            display: none; 
            animation: fadeInUp 0.8s ease-out forwards;
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .meishiki-table { width: 100%; border-collapse: separate; border-spacing: 5px; margin: 25px 0; }
        .meishiki-table th { background: #2d3748; color: white; padding: 12px; border-radius: 8px; font-size: 0.75rem; }
        .meishiki-table td { 
            padding: 20px 10px; 
            text-align: center; 
            background: white; 
            border: 1px solid #edf2f7; 
            border-radius: 12px;
            font-size: 1.4rem; 
            font-weight: bold;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.02);
        }
        .label-cell { background: #f1f5f9 !important; font-size: 0.8rem !important; color: #64748b; width: 20%; }
        .star-cell { color: #e53e3e; }
        
        .main-star-box {
            background: #fff5f5 !important;
            border: 3px solid #e53e3e !important;
            position: relative;
        }
        .main-star-label {
            position: absolute;
            top: -12px;
            left: 50%;
            transform: translateX(-50%);
            background: #e53e3e;
            color: white;
            font-size: 10px;
            padding: 2px 8px;
            border-radius: 20px;
            white-space: nowrap;
        }

        .info-box { 
            background: #ffffff; 
            border-radius: 15px;
            padding: 25px; 
            margin-top: 25px; 
            border: 1px solid #edf2f7;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
        }
        .info-box h3 { font-size: 1.1rem; margin-bottom: 10px; border-bottom: 2px solid; display: inline-block; }
        .info-box p { font-size: 1rem; line-height: 1.7; color: #4a5568; }

        .lucky-color-box {
            margin-top: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.9rem;
            font-weight: bold;
        }
        .color-dot { width: 20px; height: 20px; border-radius: 50%; border: 1px solid #ddd; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“Š ãƒ“ã‚¸ãƒã‚¹é©æ€§çµ±è¨ˆè¨ºæ–­</h1>
        <p class="subtitle">~ æˆ¦ç•¥çš„ãªè‡ªå·±åˆ†æã®ãŸã‚ã®å¸ç‹å­¦ãƒ‡ãƒ¼ã‚¿ ~</p>
        
        <div class="input-section">
            <label>ç”Ÿå¹´æœˆæ—¥ã‚’é¸æŠ</label>
            <input type="date" id="birthdate">
            <button class="calculate-btn" onclick="runDiagnostic()">çµ±è¨ˆãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡ºã™ã‚‹</button>
        </div>

        <div id="resultSection">
            <table class="meishiki-table">
                <thead>
                    <tr>
                        <th>åŒºåˆ†</th>
                        <th>å¹´æŸ±<br><small>ç¤¾ä¼šé‹</small></th>
                        <th>æœˆæŸ±<br><small>ä»•äº‹é‹</small></th>
                        <th>æ—¥æŸ±<br><small>æœ¬è³ª</small></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="label-cell">å¤©å¹²</td>
                        <td id="nenKan"></td>
                        <td id="gekkanKan"></td>
                        <td id="nicchiKan"></td>
                    </tr>
                    <tr>
                        <td class="label-cell">ä¸»æ˜Ÿ</td>
                        <td class="star-cell" id="starNen"></td>
                        <td class="star-cell main-star-box" id="starGekkanCell">
                            <span class="main-star-label">ä¸­å¿ƒæ˜Ÿ</span>
                            <span id="starGekkan"></span>
                        </td>
                        <td class="star-cell" style="font-size: 0.8rem; color: #cbd5e0;">æœ¬äºº</td>
                    </tr>
                </tbody>
            </table>
            
            <div class="info-box">
                <h3 id="mainStarTitle">ã‚ãªãŸã®ä¸­å¿ƒæ˜Ÿ</h3>
                <p id="starDescription"></p>
                <div class="lucky-color-box">
                    <span>ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼:</span>
                    <div id="colorDot" class="color-dot"></div>
                    <span id="colorName"></span>
                </div>
            </div>
        </div>
    </div>

    <script>
        const TENKAN = ['ç”²', 'ä¹™', 'ä¸™', 'ä¸', 'æˆŠ', 'å·±', 'åºš', 'è¾›', 'å£¬', 'ç™¸'];
        const LUCKY_COLORS = {
            'ç”²': { name: 'æ·±ç·‘ï¼ˆæœ¨ï¼‰', code: '#2F855A' }, 'ä¹™': { name: 'è‹¥è‰è‰²ï¼ˆæœ¨ï¼‰', code: '#48BB78' },
            'ä¸™': { name: 'èµ¤ï¼ˆç«ï¼‰', code: '#E53E3E' }, 'ä¸': { name: 'ç¯ç«è‰²ï¼ˆç«ï¼‰', code: '#F56565' },
            'æˆŠ': { name: 'é»„é‡‘è‰²ï¼ˆåœŸï¼‰', code: '#D69E2E' }, 'å·±': { name: 'é»„è‰²ï¼ˆåœŸï¼‰', code: '#ECC94B' },
            'åºš': { name: 'ç™½é‡‘ï¼ˆé‡‘ï¼‰', code: '#718096' }, 'è¾›': { name: 'éŠ€è‰²ï¼ˆé‡‘ï¼‰', code: '#A0AEC0' },
            'å£¬': { name: 'ç´ºé’ï¼ˆæ°´ï¼‰', code: '#2B6CB0' }, 'ç™¸': { name: 'æ°´è‰²ï¼ˆæ°´ï¼‰', code: '#4299E1' }
        };
        const STAR_MAP = {
            'ç”²': { 'ç”²':'è²«ç´¢', 'ä¹™':'çŸ³é–€', 'ä¸™':'é³³é–£', 'ä¸':'èª¿èˆ’', 'æˆŠ':'ç¦„å­˜', 'å·±':'å¸ç¦„', 'åºš':'è»Šé¨', 'è¾›':'ç‰½ç‰›', 'å£¬':'é¾é«˜', 'ç™¸':'ç‰å ‚' },
            'ä¹™': { 'ä¹™':'è²«ç´¢', 'ç”²':'çŸ³é–€', 'ä¸':'é³³é–£', 'ä¸™':'èª¿èˆ’', 'å·±':'ç¦„å­˜', 'æˆŠ':'å¸ç¦„', 'è¾›':'è»Šé¨', 'åºš':'ç‰½ç‰›', 'ç™¸':'é¾é«˜', 'å£¬':'ç‰å ‚' },
            'ä¸™': { 'ä¸™':'è²«ç´¢', 'ä¸':'çŸ³é–€', 'æˆŠ':'é³³é–£', 'å·±':'èª¿èˆ’', 'åºš':'ç¦„å­˜', 'è¾›':'å¸ç¦„', 'å£¬':'è»Šé¨', 'ç™¸':'ç‰½ç‰›', 'ç”²':'é¾é«˜', 'ä¹™':'ç‰å ‚' },
            'ä¸': { 'ä¸':'è²«ç´¢', 'ä¸™':'çŸ³é–€', 'å·±':'é³³é–£', 'æˆŠ':'èª¿èˆ’', 'è¾›':'ç¦„å­˜', 'åºš':'å¸ç¦„', 'ç™¸':'è»Šé¨', 'å£¬':'ç‰½ç‰›', 'ä¹™':'é¾é«˜', 'ç”²':'ç‰å ‚' },
            'æˆŠ': { 'æˆŠ':'è²«ç´¢', 'å·±':'çŸ³é–€', 'åºš':'é³³é–£', 'è¾›':'èª¿èˆ’', 'å£¬':'ç¦„å­˜', 'ç™¸':'å¸ç¦„', 'ç”²':'è»Šé¨', 'ä¹™':'ç‰½ç‰›', 'ä¸™':'é¾é«˜', 'ä¸':'ç‰å ‚' },
            'å·±': { 'å·±':'è²«ç´¢', 'æˆŠ':'çŸ³é–€', 'è¾›':'é³³é–£', 'åºš':'èª¿èˆ’', 'ç™¸':'ç¦„å­˜', 'å£¬':'å¸ç¦„', 'ä¹™':'è»Šé¨', 'ç”²':'ç‰½ç‰›', 'ä¸':'é¾é«˜', 'ä¸™':'ç‰å ‚' },
            'åºš': { 'åºš':'è²«ç´¢', 'è¾›':'çŸ³é–€', 'å£¬':'é³³é–£', 'ç™¸':'èª¿èˆ’', 'ç”²':'ç¦„å­˜', 'ä¹™':'å¸ç¦„', 'ä¸™':'è»Šé¨', 'ä¸':'ç‰½ç‰›', 'æˆŠ':'é¾é«˜', 'å·±':'ç‰å ‚' },
            'è¾›': { 'è¾›':'è²«ç´¢', 'åºš':'çŸ³é–€', 'ç™¸':'é³³é–£', 'å£¬':'èª¿èˆ’', 'ä¹™':'ç¦„å­˜', 'ç”²':'å¸ç¦„', 'ä¸':'è»Šé¨', 'ä¸™':'ç‰½ç‰›', 'å·±':'é¾é«˜', 'æˆŠ':'ç‰å ‚' },
            'å£¬': { 'å£¬':'è²«ç´¢', 'ç™¸':'çŸ³é–€', 'ç”²':'é³³é–£', 'ä¹™':'èª¿èˆ’', 'ä¸™':'ç¦„å­˜', 'ä¸':'å¸ç¦„', 'æˆŠ':'è»Šé¨', 'å·±':'ç‰½ç‰›', 'åºš':'é¾é«˜', 'è¾›':'ç‰å ‚' },
            'ç™¸': { 'ç™¸':'è²«ç´¢', 'å£¬':'çŸ³é–€', 'ä¹™':'é³³é–£', 'ç”²':'èª¿èˆ’', 'ä¸':'ç¦„å­˜', 'ä¸™':'å¸ç¦„', 'å·±':'è»Šé¨', 'æˆŠ':'ç‰½ç‰›', 'è¾›':'é¾é«˜', 'åºš':'ç‰å ‚' }
        };
        const DESCS = {
            'è²«ç´¢': 'ã€ç‹¬ç«‹ç‹¬æ­©ã€‘å°‚é–€æ€§ã‚’æ¥µã‚ã‚‹è·äººãƒ»ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹å‘ãã€‚ä¿¡å¿µã‚’è²«ãã“ã¨ã§é“ãŒé–‹ã‘ã¾ã™ã€‚',
            'çŸ³é–€': 'ã€çµ„ç¹”æ§‹ç¯‰ã€‘ãƒãƒ¼ãƒ ä½œã‚Šã‚„äººè„ˆä½œã‚Šã€‚ä»²é–“ã¨å”åŠ›ã—ã€å¤§ããªç›®çš„ã‚’é”æˆã™ã‚‹ãƒªãƒ¼ãƒ€ãƒ¼ã€‚',
            'é³³é–£': 'ã€ä¼é”ãƒ»è¡¨ç¾ã€‘éŠã³å¿ƒã¨å®¢è¦³æ€§ã€‚ãƒ¡ãƒ‡ã‚£ã‚¢ã€é£²é£Ÿã€æƒ…å ±ç™ºä¿¡ãªã©ã€æ¥½ã—ã•ã‚’ä¼ãˆã‚‹ä»•äº‹ãŒå¤©è·ã€‚',
            'èª¿èˆ’': 'ã€å‰µé€ ãƒ»æ„Ÿæ€§ã€‘ç‹¬ç‰¹ã®æ„Ÿæ€§ã‚’æŒã¤ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆã€‚å­¤ç‹¬ã‚’æã‚Œãšã€å”¯ä¸€ç„¡äºŒã®ä¾¡å€¤ã‚’å‰µã‚Šå‡ºã™ã€‚',
            'ç¦„å­˜': 'ã€æŠ•è³‡ãƒ»å›è»¢ã€‘æ„›ã¨è²¡ã®æ˜Ÿã€‚äººã‚’æƒ¹ãã¤ã‘ã€å¤§ããªãŠé‡‘ã‚’å‹•ã‹ã—ã¦ç¤¾ä¼šã«é‚„å…ƒã™ã‚‹æ‰èƒ½ã€‚',
            'å¸ç¦„': 'ã€è“„ç©ãƒ»å …å®Ÿã€‘ä¿¡é ¼ã®æ˜Ÿã€‚ä¸€æ­©ãšã¤ç€å®Ÿã«ç©ã¿ä¸Šã’ã‚‹ã‚µãƒ–ã‚¹ã‚¯å‹ãƒ“ã‚¸ãƒã‚¹ã‚„ç®¡ç†è·ã€‚',
            'è»Šé¨': 'ã€è¡Œå‹•ãƒ»ã‚¹ãƒ”ãƒ¼ãƒ‰ã€‘è€ƒãˆã‚‹ã‚ˆã‚Šå‹•ãã€‚å³æ–­å³æ±ºã®å–¶æ¥­ã‚„å‹è² ã®ä¸–ç•Œã§çœŸä¾¡ã‚’ç™ºæ®ã—ã¾ã™ã€‚',
            'ç‰½ç‰›': 'ã€åèª‰ãƒ»è‡ªå°Šå¿ƒã€‘è²¬ä»»æ„Ÿã®å¼·ã„ã‚¨ãƒªãƒ¼ãƒˆã€‚ãƒ–ãƒ©ãƒ³ãƒ‰ã€è³‡æ ¼ã€å£«æ¥­ãªã©ã€ä¿¡é ¼ã‚’å£²ã‚‹ä»•äº‹ã€‚',
            'é¾é«˜': 'ã€æ”¹é©ãƒ»ç¿’å¾—ã€‘çŸ¥çš„å¥½å¥‡å¿ƒã¨æ”¾æµªã®æ˜Ÿã€‚ITã€æµ·å¤–ã€ãƒ™ãƒ³ãƒãƒ£ãƒ¼ãªã©å¤‰åŒ–ã®æ¿€ã—ã„ç’°å¢ƒã§çˆ†ç™ºã€‚',
            'ç‰å ‚': 'ã€æ•™è‚²ãƒ»è«–ç†ã€‘ä¼çµ±ã¨çŸ¥æµã®æ˜Ÿã€‚ã‚³ãƒ³ã‚µãƒ«ã€è¬›å¸«ã€ç ”ç©¶è·ãªã©ã€ä½“ç³»ç«‹ã¦ã¦æ•™ãˆã‚‹å°‚é–€å®¶ã€‚'
        };

        function runDiagnostic() {
            const dateVal = document.getElementById('birthdate').value;
            if(!dateVal) return;
            const b = new Date(dateVal);
            
            const y = b.getFullYear();
            const nKan = TENKAN[(y - 1984 + 60000) % 10];
            const mKan = TENKAN[(b.getMonth() + 1 + 2) % 10];
            const diff = Math.floor((b - new Date(2000, 0, 1)) / 86400000);
            const dKan = TENKAN[(2 + diff % 10 + 10) % 10];
            
            const sNen = STAR_MAP[dKan][nKan];
            const sGek = STAR_MAP[dKan][mKan];

            document.getElementById('nenKan').innerText = nKan;
            document.getElementById('gekkanKan').innerText = mKan;
            document.getElementById('nicchiKan').innerText = dKan;
            document.getElementById('starNen').innerText = sNen + 'æ˜Ÿ';
            document.getElementById('starGekkan').innerText = sGek + 'æ˜Ÿ';
            
            const lucky = LUCKY_COLORS[dKan];
            const title = document.getElementById('mainStarTitle');
            title.innerText = sGek + 'æ˜Ÿã®ã‚ãªãŸã®æˆ¦ç•¥';
            title.style.color = lucky.code;
            title.style.borderColor = lucky.code;
            
            document.getElementById('colorDot').style.backgroundColor = lucky.code;
            document.getElementById('colorName').innerText = lucky.name;
            document.getElementById('starDescription').innerText = DESCS[sGek];

            document.getElementById('resultSection').style.display = 'block';
        }
    </script>
</body>
</html>
